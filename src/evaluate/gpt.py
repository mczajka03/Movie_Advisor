import requests

API_KEY = "XXX"

headers = {
            "Content-Type": "application/json",
            "Authorization": f"Bearer {API_KEY}"
        }


def get_recommendation(input_description):
    prompt = f"""Based on the provided movie description and preferences, predict the 10 most suitable movies. 
    The list should include movies that closely match the input. 
    Provide the following details for each movie: title, main actors, duration, release date, directors, and genres.
    Input: {input_description}"""

    messages = [
        {"role": "system", "content": "You are a helpful assistant to recommend movies."},
        {"role": "user", "content": prompt}
    ]
    payload = {
        # "model": "gpt-3.5-turbo",
        "model": "gpt-4o",
        "messages": messages
    }

    print(prompt, "\n-------------------------------------------------\n")

    try:
        response = requests.post("https://api.openai.com/v1/chat/completions", headers=headers, json=payload)
        res = response.json()
        print(res)
    except:
        print('request post error (OpenAI API)')

    print("\n-------------------------------------------------\n")

    return


input_descriptions = [
    "I’d like to watch a movie about a young and relatable superhero balancing the challenges of high school life with the overwhelming responsibility of protecting his city. The story should dive deep into themes of identity, sacrifice, and the weight of great power coming with great responsibility. It should have a mix of thrilling action sequences, emotional character development, and moments of humor that feel genuine and not overdone. The visuals should bring the city to life with dynamic web-slinging scenes and a compelling, humanized villain. Ideally, it’s directed by Jon Watts or Sam Raimi and stars someone like Tom Holland or Tobey Maguire. I’d prefer it to be around 2.5 hours long and avoid overly dark tones or excessive romance.",
    "A high-octane action movie that follows a group of street racers drawn into dangerous heists, international missions, and epic confrontations. Featuring breathtaking car chases, daring stunts, and themes of family, loyalty, and redemption, the movie blends action, crime, and drama in an adrenaline-packed experience. It should be directed by filmmakers like Justin Lin or James Wan, but avoid Jim Bacon as a director. Each film should run around 1 hour 50 minutes and deliver non-stop excitement. Ensure the film is set after 2005."
]

# for input_description in input_descriptions:
#     recommendations = get_recommendation(input_description)



### OUTPUTS
o1_gpt3_5 = "Based on your description and preferences, here are 10 movies that you may enjoy:\n\n1. **Spider-Man: Homecoming**  \n   - **Main Actors:** Tom Holland, Michael Keaton, Robert Downey Jr.\n   - **Duration:** 2h 13min\n   - **Release Date:** 2017\n   - **Director:** Jon Watts\n   - **Genres:** Action, Adventure, Sci-Fi\n\n2. **Spider-Man 2**  \n   - **Main Actors:** Tobey Maguire, Kirsten Dunst, Alfred Molina\n   - **Duration:** 2h 7min\n   - **Release Date:** 2004\n   - **Director:** Sam Raimi\n   - **Genres:** Action, Adventure, Sci-Fi\n\n3. **Spider-Man: Far From Home**  \n   - **Main Actors:** Tom Holland, Samuel L. Jackson, Jake Gyllenhaal\n   - **Duration:** 2h 9min\n   - **Release Date:** 2019\n   - **Director:** Jon Watts\n   - **Genres:** Action, Adventure, Sci-Fi\n\n4. **Spider-Man 3**  \n   - **Main Actors:** Tobey Maguire, Kirsten Dunst, Topher Grace\n   - **Duration:** 2h 19min\n   - **Release Date:** 2007\n   - **Director:** Sam Raimi\n   - **Genres:** Action, Adventure\n\n5. **The Amazing Spider-Man**  \n   - **Main Actors:** Andrew Garfield, Emma Stone, Rhys Ifans\n   - **Duration:** 2h 16min\n   - **Release Date:** 2012\n   - **Director:** Marc Webb\n   - **Genres:** Action, Adventure, Sci-Fi\n\n6. **Spider-Man**  \n   - **Main Actors:** Tobey Maguire, Willem Dafoe, Kirsten Dunst\n   - **Duration:** 2h 1min\n   - **Release Date:** 2002\n   - **Director:** Sam Raimi\n   - **Genres:** Action, Adventure\n\n7. **Spider-Man: Into the Spider-Verse**  \n   - **Main Actors:** Shameik Moore, Jake Johnson, Hailee Steinfeld\n   - **Duration:** 1h 57min\n   - **Release Date:** 2018\n   - **Directors:** Bob Persichetti, Peter Ramsey, Rodney Rothman\n   - **Genres:** Animation, Action, Adventure\n\n8. **The Amazing Spider-Man 2**  \n   - **Main Actors:** Andrew Garfield, Emma Stone, Jamie Foxx\n   - **Duration:** 2h 22min\n   - **Release Date:** 2014\n   - **Director:** Marc Webb\n   - **Genres:** Action, Adventure, Sci-Fi\n\n9. **Spider-Man: No Way Home**  \n   - **Main Actors:** Tom Holland, Zendaya, Benedict Cumberbatch\n   - **Duration:** 2h 28min\n   - **Release Date:** 2021\n   - **Director:** Jon Watts\n   - **Genres:** Action, Adventure, Fantasy\n\n10. **Kick-Ass**  \n    - **Main Actors:** Aaron Taylor-Johnson, Chloë Grace Moretz, Nicolas Cage\n    - **Duration:** 1h 57min\n    - **Release Date:** 2010\n    - **Director:** Matthew Vaughn\n    - **Genres:** Action, Comedy\n\nThese movies feature young, relatable superheroes dealing with the challenges of balancing their powers with everyday life while also exploring themes of identity, sacrifice, and responsibility. The mix of action, character development, and humor aligns with your preferences."
o2_gpt3_5 = "Based on your description and preferences, here are 10 movies that closely match what you are looking for:\n\n1. Title: Fast Five\n   Main Actors: Vin Diesel, Paul Walker, Dwayne Johnson\n   Duration: 2h 10min\n   Release Date: 2011\n   Director: Justin Lin\n   Genres: Action, Crime, Thriller\n\n2. Title: Fast & Furious 6\n   Main Actors: Vin Diesel, Paul Walker, Dwayne Johnson\n   Duration: 2h 10min\n   Release Date: 2013\n   Director: Justin Lin\n   Genres: Action, Crime, Thriller\n\n3. Title: Furious 7\n   Main Actors: Vin Diesel, Paul Walker, Dwayne Johnson\n   Duration: 2h 17min\n   Release Date: 2015\n   Director: James Wan\n   Genres: Action, Crime, Thriller\n\n4. Title: The Fate of the Furious\n   Main Actors: Vin Diesel, Jason Statham, Dwayne Johnson\n   Duration: 2h 16min\n   Release Date: 2017\n   Director: F. Gary Gray\n   Genres: Action, Crime, Thriller\n\n5. Title: Baby Driver\n   Main Actors: Ansel Elgort, Jon Hamm, Jamie Foxx\n   Duration: 1h 53min\n   Release Date: 2017\n   Director: Edgar Wright\n   Genres: Action, Crime, Music\n\n6. Title: Drive\n   Main Actors: Ryan Gosling, Carey Mulligan, Bryan Cranston\n   Duration: 1h 40min\n   Release Date: 2011\n   Director: Nicolas Winding Refn\n   Genres: Crime, Drama\n\n7. Title: The Transporter\n   Main Actors: Jason Statham, Qi Shu, Matt Schulze\n   Duration: 1h 32min\n   Release Date: 2002\n   Director: Louis Leterrier, Corey Yuen\n   Genres: Action, Crime, Thriller\n\n8. Title: Wheelman\n   Main Actors: Frank Grillo, Caitlin Carmichael, Garret Dillahunt\n   Duration: 1h 22min\n   Release Date: 2017\n   Director: Jeremy Rush\n   Genres: Action, Crime, Drama\n\n9. Title: Triple 9\n   Main Actors: Casey Affleck, Chiwetel Ejiofor, Anthony Mackie\n   Duration: 1h 55min\n   Release Date: 2016\n   Director: John Hillcoat\n   Genres: Action, Crime, Thriller\n\n10. Title: Den of Thieves\n    Main Actors: Gerard Butler, Pablo Schreiber, O'Shea Jackson Jr.\n    Duration: 2h 20min\n    Release Date: 2018\n    Director: Christian Gudegast\n    Genres: Action, Crime, Drama\n\nThese movies should provide you with the high-octane action, thrilling car chases, and themes of loyalty and redemption that you are looking for."

o1_gpt4o = "Based on your preferences for a movie about a young superhero balancing high school life with superhero responsibilities, here are ten suitable movies that closely match your description:\n\n1. **Spider-Man: Homecoming (2017)**\n   - **Main Actors:** Tom Holland, Michael Keaton, Robert Downey Jr., Zendaya\n   - **Duration:** 2 hours 13 minutes\n   - **Release Date:** July 7, 2017\n   - **Director:** Jon Watts\n   - **Genres:** Action, Adventure, Sci-Fi\n\n2. **Spider-Man: Far From Home (2019)**\n   - **Main Actors:** Tom Holland, Jake Gyllenhaal, Zendaya, Samuel L. Jackson\n   - **Duration:** 2 hours 9 minutes\n   - **Release Date:** July 2, 2019\n   - **Director:** Jon Watts\n   - **Genres:** Action, Adventure, Sci-Fi\n\n3. **The Amazing Spider-Man (2012)**\n   - **Main Actors:** Andrew Garfield, Emma Stone, Rhys Ifans\n   - **Duration:** 2 hours 16 minutes\n   - **Release Date:** July 3, 2012\n   - **Director:** Marc Webb\n   - **Genres:** Action, Adventure, Sci-Fi\n\n4. **Spider-Man (2002)**\n   - **Main Actors:** Tobey Maguire, Willem Dafoe, Kirsten Dunst, James Franco\n   - **Duration:** 2 hours 1 minute\n   - **Release Date:** May 3, 2002\n   - **Director:** Sam Raimi\n   - **Genres:** Action, Adventure\n\n5. **Spider-Man 2 (2004)**\n   - **Main Actors:** Tobey Maguire, Alfred Molina, Kirsten Dunst, James Franco\n   - **Duration:** 2 hours 7 minutes\n   - **Release Date:** June 30, 2004\n   - **Director:** Sam Raimi\n   - **Genres:** Action, Adventure, Sci-Fi\n\n6. **Spider-Man: No Way Home (2021)**\n   - **Main Actors:** Tom Holland, Zendaya, Benedict Cumberbatch\n   - **Duration:** 2 hours 28 minutes\n   - **Release Date:** December 17, 2021\n   - **Director:** Jon Watts\n   - **Genres:** Action, Adventure, Sci-Fi\n\n7. **The Amazing Spider-Man 2 (2014)**\n   - **Main Actors:** Andrew Garfield, Emma Stone, Jamie Foxx\n   - **Duration:** 2 hours 22 minutes\n   - **Release Date:** May 2, 2014\n   - **Director:** Marc Webb\n   - **Genres:** Action, Adventure, Sci-Fi\n\n8. **Spider-Man: Into the Spider-Verse (2018)**\n   - **Main Actors:** Shameik Moore, Jake Johnson, Hailee Steinfeld\n   - **Duration:** 1 hour 57 minutes\n   - **Release Date:** December 14, 2018\n   - **Director:** Peter Ramsey, Rodney Rothman, Bob Persichetti\n   - **Genres:** Animation, Action, Adventure\n\n9. **Chronicle (2012)**\n   - **Main Actors:** Dane DeHaan, Alex Russell, Michael B. Jordan\n   - **Duration:** 1 hour 24 minutes\n   - **Release Date:** February 3, 2012\n   - **Director:** Josh Trank\n   - **Genres:** Action, Drama, Sci-Fi\n\n10. **Kick-Ass (2010)**\n   - **Main Actors:** Aaron Taylor-Johnson, Nicolas Cage, Chloë Grace Moretz\n   - **Duration:** 1 hour 57 minutes\n   - **Release Date:** April 16, 2010\n   - **Director:** Matthew Vaughn\n   - **Genres:** Action, Comedy, Crime\n\nThese films encapsulate the high school struggles of young superheroes, offer a balance of action and character development, and include dynamic visuals and compelling villains. The Spider-Man movies directed by Jon Watts and Sam Raimi align closely with your description, especially those starring Tom Holland or Tobey Maguire."
o2_gpt4o = "Based on your preferences for a high-octane action movie featuring street racing, heists, international missions, and themes of family, loyalty, and redemption, here are 10 movies that fit your description:\n\n1. **Fast & Furious 6 (2013)**\n   - **Main Actors:** Vin Diesel, Paul Walker, Michelle Rodriguez\n   - **Duration:** 130 minutes\n   - **Release Date:** May 24, 2013\n   - **Director:** Justin Lin\n   - **Genres:** Action, Crime, Thriller\n\n2. **Furious 7 (2015)**\n   - **Main Actors:** Vin Diesel, Paul Walker, Dwayne Johnson\n   - **Duration:** 137 minutes\n   - **Release Date:** April 3, 2015\n   - **Director:** James Wan\n   - **Genres:** Action, Crime, Thriller\n\n3. **Fast & Furious (2009)**\n   - **Main Actors:** Vin Diesel, Paul Walker, Jordana Brewster\n   - **Duration:** 107 minutes\n   - **Release Date:** April 3, 2009\n   - **Director:** Justin Lin\n   - **Genres:** Action, Crime, Thriller\n\n4. **Fast Five (2011)**\n   - **Main Actors:** Vin Diesel, Paul Walker, Dwayne Johnson\n   - **Duration:** 130 minutes\n   - **Release Date:** April 29, 2011\n   - **Director:** Justin Lin\n   - **Genres:** Action, Crime, Thriller\n\n5. **The Fate of the Furious (2017)**\n   - **Main Actors:** Vin Diesel, Jason Statham, Dwayne Johnson\n   - **Duration:** 136 minutes\n   - **Release Date:** April 14, 2017\n   - **Director:** F. Gary Gray\n   - **Genres:** Action, Crime, Thriller\n\n6. **Fast & Furious Presents: Hobbs & Shaw (2019)**\n   - **Main Actors:** Dwayne Johnson, Jason Statham, Idris Elba\n   - **Duration:** 137 minutes\n   - **Release Date:** August 2, 2019\n   - **Director:** David Leitch\n   - **Genres:** Action, Adventure, Thriller\n\n7. **Need for Speed (2014)**\n   - **Main Actors:** Aaron Paul, Dominic Cooper, Imogen Poots\n   - **Duration:** 132 minutes\n   - **Release Date:** March 14, 2014\n   - **Director:** Scott Waugh\n   - **Genres:** Action, Crime, Thriller\n\n8. **Mad Max: Fury Road (2015)**\n   - **Main Actors:** Tom Hardy, Charlize Theron, Nicholas Hoult\n   - **Duration:** 120 minutes\n   - **Release Date:** May 15, 2015\n   - **Director:** George Miller\n   - **Genres:** Action, Adventure, Sci-Fi\n\n9. **Baby Driver (2017)**\n   - **Main Actors:** Ansel Elgort, Kevin Spacey, Lily James\n   - **Duration:** 113 minutes\n   - **Release Date:** June 28, 2017\n   - **Director:** Edgar Wright\n   - **Genres:** Action, Crime, Drama\n\n10. **The Italian Job (2003)**\n    - **Main Actors:** Mark Wahlberg, Charlize Theron, Edward Norton\n    - **Duration:** 111 minutes\n    - **Release Date:** May 30, 2003\n    - **Director:** F. Gary Gray\n    - **Genres:** Action, Crime, Thriller\n\nNote: Although \"The Italian Job\" was released before 2005, it closely matches your thematic requirements, so it is included as an additional suggestion. The main focus is on movies that align with the dynamic and exciting tone you desire."

print("o1_gpt3_5")
print(o1_gpt3_5)
print("\n------------------------------\n")
print("o2_gpt3_5")
print(o2_gpt3_5)
print("\n------------------------------\n")
print("o1_gpt4o")
print(o1_gpt4o)
print("\n------------------------------\n")
print("o2_gpt4o")
print(o2_gpt4o)